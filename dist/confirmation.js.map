{"version":3,"sources":["webpack:///confirmation.js","webpack:///webpack/bootstrap 1ae975d71d2c5273482a?e921","webpack:///./confirmation.js","webpack:///./helpers/domHelpers.js?afef","webpack:///./session/session_counter.js?199e","webpack:///./helpers/modal_popup.js?8e6e","webpack:///./calendar/modal_focus.js?7697"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","0","handleHashChange","hash","location","modal_popup","show","SessionExpiredEvent","addToCalendarDropdown","document","getElementById","parentElement","removeChild","session_counter","calendarItems","getElementsByClassName","addEventListener","className","i","length","window","Array","prototype","forEach","querySelectorAll","el","removeAttribute","setAttribute","setTimeoutEvent","print","style","display","307","mod","addClass","selectorString","classList","add","removeClass","remove","replace","RegExp","split","join","hideElementsBySelectors","clearHTML","innerHTML","highlightDateCell","dateString","unhighlightDateCells","highlightTimesCell","datetimeClassString","renderSystemError","querySelector","focusMonthNav","month","focus","focusFirstActiveMonthDate","elems","321","sessionTime","sessionEndingNotificationTime","setTimeout","setNotificationBeforeExpiry","SessionEndingEvent","322","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","modal_focus","dom","KEYCODE_ESC","ModalPopup","popupDOMid","this","value","setEventListeners","_this","e","which","keyCode","closeModal","trapFocus","323","KEYCODE_TAB","obj","evt","focusableElements","numFocusableElements","focusedElement","activeElement","focusedElementIndex","indexOf","shiftKey","preventDefault"],"mappings":"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","file":"confirmation.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar session_counter = __webpack_require__(321);\n\tvar modal_popup = __webpack_require__(322);\n\t\n\tvar calendarItems = document.getElementsByClassName('cal_option');\n\t\n\tdocument.addEventListener('touchstart', function () {\n\t  document.getElementById('calendarOptions').className = '';\n\t}, null);\n\t\n\tfor (var i = 0; i < calendarItems.length; i++) {\n\t  calendarItems[i].addEventListener('focus', function () {\n\t    document.getElementById('calendarOptions').className = 'show-menu';\n\t  }, null);\n\t\n\t  calendarItems[i].addEventListener('blur', function () {\n\t    document.getElementById('calendarOptions').className = '';\n\t  }, null);\n\t}\n\t\n\tfunction handleHashChange() {\n\t  var hash = location.hash;\n\t  if (hash === '#add-to-wallet-modal') {\n\t    modal_popup('#add-to-wallet-modal').show();\n\t  }\n\t}\n\t\n\tif (location.hash) {\n\t  handleHashChange();\n\t}\n\t\n\twindow.addEventListener('hashchange', handleHashChange, null);\n\t\n\tArray.prototype.forEach.call(document.querySelectorAll('.add-to-wallet-modal-link'), function (el) {\n\t  el.removeAttribute('href'); // required since setAttribute href with just a hash value appends to the existing href value\n\t  el.setAttribute('href', '#add-to-wallet-modal');\n\t  el.removeAttribute('target');\n\t});\n\t\n\t/*BEGIN: handle session timeout*/\n\tfunction SessionExpiredEvent() {\n\t  var addToCalendarDropdown = document.getElementById('addToCalendarDropdown');\n\t  addToCalendarDropdown.parentElement.removeChild(addToCalendarDropdown);\n\t}\n\t\n\tsession_counter().setTimeoutEvent(SessionExpiredEvent);\n\t/*END: handle session timeout*/\n\t\n\tdocument.getElementById('print-page').addEventListener('click', function () {\n\t  window.print();\n\t}, null);\n\tdocument.getElementById('print-page').style.display = 'inline';\n\n/***/ },\n\n/***/ 307:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar mod = module.exports = {};\n\t\n\tmod.addClass = function (selectorString, className) {\n\t  Array.prototype.forEach.call(document.querySelectorAll(selectorString), function (el) {\n\t    el.classList ? el.classList.add(className) : el.className += ' ' + className;\n\t  });\n\t};\n\t\n\tmod.removeClass = function (selectorString, className) {\n\t  Array.prototype.forEach.call(document.querySelectorAll(selectorString), function (el) {\n\t    el.classList ? el.classList.remove(className) : el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n\t  });\n\t};\n\t\n\tmod.hideElementsBySelectors = function (selectorString) {\n\t  Array.prototype.forEach.call(document.querySelectorAll(selectorString), function (el) {\n\t    el.style.display = 'none';\n\t  });\n\t};\n\t\n\tmod.clearHTML = function (selectorString) {\n\t  Array.prototype.forEach.call(document.querySelectorAll(selectorString), function (el) {\n\t    el.innerHTML = '';\n\t  });\n\t};\n\t\n\tmod.highlightDateCell = function (dateString) {\n\t  mod.removeClass('.Calendar-date--bookable.is-active', 'is-active');\n\t  mod.addClass('.Calendar-date--bookable.date-' + dateString, 'is-active');\n\t};\n\t\n\tmod.unhighlightDateCells = function () {\n\t  mod.removeClass('.Calendar-date--bookable.is-active', 'is-active');\n\t};\n\t\n\tmod.highlightTimesCell = function (datetimeClassString) {\n\t  mod.removeClass('.AppointmentTimes-list--item.is-active', 'is-active');\n\t  mod.addClass('.AppointmentTimes-list--item.datetime-' + datetimeClassString, 'is-active');\n\t};\n\t\n\tmod.renderSystemError = function (selectorString) {\n\t  var el = document.querySelector(selectorString);\n\t  el.innerHTML = 'An error has occurred in the system. Please try again in a few minutes';\n\t};\n\t\n\tmod.focusMonthNav = function (month) {\n\t  var el = document.querySelector('.Calendar.month-' + month + ' a.Calendar-nav--next') || document.querySelector('.Calendar.month-' + month + ' a.Calendar-nav--prev');\n\t  el ? el.focus() : mod.focusFirstActiveMonthDate(month);\n\t};\n\t\n\tmod.focusFirstActiveMonthDate = function (month) {\n\t  var elems = document.querySelectorAll('[class^=\\'DateCell Calendar-date--bookable date-' + month + '\\'] a');\n\t  if (elems.length > 0) {\n\t    elems[0].focus();\n\t  }\n\t};\n\n/***/ },\n\n/***/ 321:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar sessionTime = 30 * 60 * 1000 - 1000;\n\tvar sessionEndingNotificationTime = 28 * 60 * 1000 - 1000;\n\t\n\t// const sessionTime = 10*60*1000-1000;\n\t// const sessionEndingNotificationTime = 5*1000-1000;\n\t\n\tmodule.exports = function () {\n\t\treturn {\n\t\t\tsetTimeoutEvent: function setTimeoutEvent(SessionExpiredEvent) {\n\t\t\t\treturn setTimeout(SessionExpiredEvent, sessionTime);\n\t\t\t},\n\t\n\t\t\tsetNotificationBeforeExpiry: function setNotificationBeforeExpiry(SessionEndingEvent) {\n\t\t\t\tsetTimeout(SessionEndingEvent, sessionEndingNotificationTime);\n\t\t\t}\n\t\t};\n\t};\n\n/***/ },\n\n/***/ 322:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar modal_focus = __webpack_require__(323);\n\tvar dom = __webpack_require__(307);\n\t\n\tvar KEYCODE_ESC = 27;\n\t\n\tvar ModalPopup = function () {\n\t\t\tfunction ModalPopup(popupDOMid) {\n\t\t\t\t\t_classCallCheck(this, ModalPopup);\n\t\n\t\t\t\t\tthis.popupDOMid = popupDOMid;\n\t\t\t}\n\t\n\t\t\t_createClass(ModalPopup, [{\n\t\t\t\t\tkey: 'show',\n\t\t\t\t\tvalue: function show() {\n\t\t\t\t\t\t\twindow.location.hash = this.popupDOMid;\n\t\t\t\t\t\t\tdom.addClass(this.popupDOMid, 'modalDialog-bg--display');\n\t\t\t\t\t\t\tdom.addClass('body', 'scroll-disabled');\n\t\t\t\t\t\t\tthis.setEventListeners();\n\t\n\t\t\t\t\t\t\tdocument.querySelector('div' + this.popupDOMid + ' .log-out').focus();\n\t\t\t\t\t}\n\t\t\t}, {\n\t\t\t\t\tkey: 'setEventListeners',\n\t\t\t\t\tvalue: function setEventListeners() {\n\t\t\t\t\t\t\tvar _this = this;\n\t\n\t\t\t\t\t\t\t// document.querySelector('.modalDialog-content').addEventListener('keydown', (e) => {\n\t\t\t\t\t\t\twindow.addEventListener('keydown', function (e) {\n\t\t\t\t\t\t\t\t\tif (e.which == KEYCODE_ESC || e.keyCode == KEYCODE_ESC) {\n\t\t\t\t\t\t\t\t\t\t\t_this.closeModal();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\tmodal_focus.trapFocus(document.querySelector('.modalDialog-bg'), e);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}, null);\n\t\n\t\t\t\t\t\t\tdocument.querySelector(this.popupDOMid + ' .close').addEventListener('click', function () {\n\t\t\t\t\t\t\t\t\t_this.closeModal();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t}, {\n\t\t\t\t\tkey: 'closeModal',\n\t\t\t\t\tvalue: function closeModal() {\n\t\t\t\t\t\t\tdom.removeClass(this.popupDOMid, 'modalDialog-bg--display');\n\t\t\t\t\t\t\tdom.removeClass('body', 'scroll-disabled');\n\t\t\t\t\t\t\tlocation.hash = '#close-modal';\n\t\t\t\t\t}\n\t\t\t}]);\n\t\n\t\t\treturn ModalPopup;\n\t}();\n\t\n\tmodule.exports = function (popupDOMid) {\n\t\t\treturn new ModalPopup(popupDOMid);\n\t};\n\n/***/ },\n\n/***/ 323:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar mod = module.exports = {};\n\tvar KEYCODE_TAB = 9;\n\t\n\tmod.trapFocus = function (obj, evt) {\n\t  var focusableElements = [document.getElementById('log-out'), document.getElementById('extend-session'), document.getElementById('close-modal')];\n\t\n\t  if (evt.which == KEYCODE_TAB || evt.keyCode == KEYCODE_TAB) {\n\t    var modalElements = obj.querySelectorAll('*');\n\t    var numFocusableElements = focusableElements.length;\n\t    var focusedElement = document.activeElement;\n\t    var focusedElementIndex = focusableElements.indexOf(focusedElement);\n\t\n\t    if (evt.shiftKey) {\n\t      if (focusedElementIndex == 0) {\n\t        focusableElements[numFocusableElements - 1].focus();\n\t        evt.preventDefault();\n\t      }\n\t    } else {\n\t      if (focusedElementIndex == numFocusableElements - 1) {\n\t        focusableElements[0].focus();\n\t        evt.preventDefault();\n\t      }\n\t    }\n\t  }\n\t};\n\n/***/ }\n\n/******/ });\n\n\n/** WEBPACK FOOTER **\n ** confirmation.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1ae975d71d2c5273482a\n **/","'use strict';\n\nconst session_counter = require('./session/session_counter');\nconst modal_popup = require('./helpers/modal_popup');\n\nvar calendarItems = document.getElementsByClassName('cal_option');\n\ndocument.addEventListener('touchstart', function() {\n  document.getElementById('calendarOptions').className = '';\n}, null)\n\nfor(var i=0; i< calendarItems.length; i++){\n\tcalendarItems[i].addEventListener('focus', function(){\n    document.getElementById('calendarOptions').className = 'show-menu';\n\t}, null);\n\n\tcalendarItems[i].addEventListener('blur', function(){\n    document.getElementById('calendarOptions').className = '';\n\t}, null);\n}\n\nfunction handleHashChange() {\n  let hash = location.hash;\n  if (hash === '#add-to-wallet-modal') {\n    modal_popup('#add-to-wallet-modal').show();\n  }\n}\n\nif (location.hash) {\n  handleHashChange();\n}\n\nwindow.addEventListener('hashchange', handleHashChange, null);\n\nArray.prototype.forEach.call(document.querySelectorAll('.add-to-wallet-modal-link'), (el) => {\n  el.removeAttribute('href'); // required since setAttribute href with just a hash value appends to the existing href value\n  el.setAttribute('href', '#add-to-wallet-modal');\n  el.removeAttribute('target');\n});\n\n/*BEGIN: handle session timeout*/\nfunction SessionExpiredEvent() {\n    var addToCalendarDropdown =  document.getElementById('addToCalendarDropdown');\n    addToCalendarDropdown.parentElement.removeChild(addToCalendarDropdown);\n}\n\nsession_counter().setTimeoutEvent(SessionExpiredEvent);\n/*END: handle session timeout*/\n\ndocument.getElementById('print-page').addEventListener('click', function(){\n\twindow.print();\n}, null);\ndocument.getElementById('print-page').style.display='inline';\n\n\n\n/** WEBPACK FOOTER **\n ** ./confirmation.js\n **/","'use strict';\n\nconst mod = module.exports = {};\n\nmod.addClass = (selectorString, className) => {\n  Array.prototype.forEach.call(document.querySelectorAll(selectorString), (el) => {\n    el.classList ? el.classList.add(className) : el.className += ' ' + className;\n  });\n};\n\nmod.removeClass = (selectorString, className) => {\n  Array.prototype.forEach.call(document.querySelectorAll(selectorString), (el) => {\n    el.classList ?\n        el.classList.remove(className) :\n        el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n  });\n};\n\nmod.hideElementsBySelectors = (selectorString) => {\n  Array.prototype.forEach.call(document.querySelectorAll(selectorString), (el) => {\n    el.style.display = 'none';\n  });\n};\n\nmod.clearHTML = (selectorString) => {\n  Array.prototype.forEach.call(document.querySelectorAll(selectorString), (el) => {\n    el.innerHTML = '';\n  });\n};\n\nmod.highlightDateCell = (dateString) => {\n  mod.removeClass('.Calendar-date--bookable.is-active', 'is-active');\n  mod.addClass(`.Calendar-date--bookable.date-${dateString}`, 'is-active');\n};\n\nmod.unhighlightDateCells = () => {\n  mod.removeClass('.Calendar-date--bookable.is-active', 'is-active');\n};\n\nmod.highlightTimesCell = (datetimeClassString) => {\n  mod.removeClass('.AppointmentTimes-list--item.is-active', 'is-active');\n  mod.addClass(`.AppointmentTimes-list--item.datetime-${datetimeClassString}`, 'is-active');\n};\n\nmod.renderSystemError = (selectorString) => {\n  let el = document.querySelector(selectorString);\n  el.innerHTML = 'An error has occurred in the system. Please try again in a few minutes';\n};\n\nmod.focusMonthNav = (month) => {\n  let el = document.querySelector(`.Calendar.month-${month} a.Calendar-nav--next`) ||\n  document.querySelector(`.Calendar.month-${month} a.Calendar-nav--prev`);\n  el ? el.focus() : mod.focusFirstActiveMonthDate(month);\n};\n\nmod.focusFirstActiveMonthDate = (month) => {\n  let elems = document.querySelectorAll(`[class^='DateCell Calendar-date--bookable date-${month}'] a`);\n  if (elems.length > 0) {\n    elems[0].focus();\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./helpers/domHelpers.js\n **/","'use strict';\n\nconst sessionTime = 30*60*1000-1000;\nconst sessionEndingNotificationTime = 28*60*1000-1000;\n\n// const sessionTime = 10*60*1000-1000;\n// const sessionEndingNotificationTime = 5*1000-1000;\n\nmodule.exports = () => {\n\treturn {\n\t\tsetTimeoutEvent: function (SessionExpiredEvent) {\n\t\t\treturn setTimeout(SessionExpiredEvent, sessionTime);\n\t\t},\n\n\t\tsetNotificationBeforeExpiry: function(SessionEndingEvent) {\n\t\t\tsetTimeout(SessionEndingEvent, sessionEndingNotificationTime);\n\t\t}\n\t};\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./session/session_counter.js\n **/","'use strict';\n\nconst modal_focus = require('../calendar/modal_focus');\nconst dom = require('./domHelpers');\n\nconst KEYCODE_ESC = 27;\n\nclass ModalPopup {\n  constructor(popupDOMid) {\n    this.popupDOMid = popupDOMid;\n  }\n\n  show(){\n\twindow.location.hash = this.popupDOMid;\n\tdom.addClass(this.popupDOMid, 'modalDialog-bg--display');\n\tdom.addClass('body', 'scroll-disabled');\n\tthis.setEventListeners();\n\n\tdocument.querySelector('div' + this.popupDOMid + ' .log-out').focus();\n  }\n\n  setEventListeners(){\n  \t// document.querySelector('.modalDialog-content').addEventListener('keydown', (e) => {\n  \twindow.addEventListener('keydown', (e) => {\n\t\tif ( e.which == KEYCODE_ESC || e.keyCode == KEYCODE_ESC ) {\n\t\t  this.closeModal();\n\t\t} else {\n\t\t  modal_focus.trapFocus(document.querySelector('.modalDialog-bg'), e);\n\t\t}\n\t}, null);\n\n\tdocument.querySelector(this.popupDOMid + ' .close').addEventListener('click', () => {\n\t  this.closeModal();\n\t});\n  }\n\n  closeModal() {\n\t  dom.removeClass(this.popupDOMid, 'modalDialog-bg--display');\n\t  dom.removeClass('body', 'scroll-disabled');\n    location.hash = '#close-modal';\n  }\n}\n\nmodule.exports = (popupDOMid) => {\n  return new ModalPopup(popupDOMid);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./helpers/modal_popup.js\n **/","'use strict';\n\nconst mod = module.exports = {};\nconst KEYCODE_TAB = 9;\n\nmod.trapFocus = (obj, evt) => {\n  let focusableElements = [\n    document.getElementById('log-out'),\n    document.getElementById('extend-session'),\n    document.getElementById('close-modal')];\n\n  if ( evt.which == KEYCODE_TAB || evt.keyCode == KEYCODE_TAB ) {\n    let modalElements = obj.querySelectorAll('*');\n    let numFocusableElements = focusableElements.length;\n    let focusedElement = document.activeElement;\n    let focusedElementIndex = focusableElements.indexOf(focusedElement);\n\n    if (evt.shiftKey) {\n      if( focusedElementIndex == 0 ){\n        focusableElements[numFocusableElements-1].focus();\n        evt.preventDefault();\n      }\n    } else {\n      if( focusedElementIndex == numFocusableElements-1 ){\n        focusableElements[0].focus();\n        evt.preventDefault();\n      }\n    }\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./calendar/modal_focus.js\n **/"],"sourceRoot":""}