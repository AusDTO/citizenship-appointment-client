{"version":3,"sources":["webpack:///confirmation.js","webpack:///webpack/bootstrap 1370bad7fdc888fe9bcd?aed7","webpack:///./confirmation.js","webpack:///./helpers/domHelpers.js?afef","webpack:///./session/session_counter.js?199e","webpack:///./helpers/modal_popup.js?8e6e","webpack:///./calendar/modal_focus.js?7697"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","0","handleHashChange","hash","location","modal_popup","show","SessionExpiredEvent","addToCalendarDropdown","document","getElementById","parentElement","removeChild","style","display","session_counter","calendarItems","getElementsByClassName","addEventListener","className","i","length","window","Array","prototype","forEach","querySelectorAll","el","removeAttribute","setAttribute","setTimeoutEvent","print","307","mod","addClass","selectorString","classList","add","removeClass","remove","replace","RegExp","split","join","toggleClass","elements","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","value","toggle","classes","existingIndex","indexOf","splice","push","err","toggleHideOn","toggleShowOn","hideElementsBySelectors","clearHTML","innerHTML","highlightCalendarDate","dateString","unhighlightCalendarDates","highlightTimesCell","datetimeClassString","renderSystemError","querySelector","focusMonthNav","month","focus","focusFirstActiveMonthDate","elems","321","sessionTime","sessionEndingNotificationTime","setTimeout","setNotificationBeforeExpiry","SessionEndingEvent","322","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","Object","defineProperty","key","protoProps","staticProps","modal_focus","dom","KEYCODE_ESC","ModalPopup","popupDOMid","this","setEventListeners","_this","e","which","keyCode","closeModal","trapFocus","323","KEYCODE_TAB","obj","evt","focusableElements","elementIds","elId","numFocusableElements","focusedElement","activeElement","focusedElementIndex","shiftKey","preventDefault"],"mappings":"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","file":"confirmation.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 0:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar session_counter = __webpack_require__(321);\n\tvar modal_popup = __webpack_require__(322);\n\t\n\tvar calendarItems = document.getElementsByClassName('cal_option');\n\t\n\tdocument.addEventListener('touchstart', function () {\n\t  document.getElementById('calendarOptions').className = '';\n\t}, null);\n\t\n\tfor (var i = 0; i < calendarItems.length; i++) {\n\t  calendarItems[i].addEventListener('focus', function () {\n\t    document.getElementById('calendarOptions').className = 'show-menu';\n\t  }, null);\n\t\n\t  calendarItems[i].addEventListener('blur', function () {\n\t    document.getElementById('calendarOptions').className = '';\n\t  }, null);\n\t}\n\t\n\tfunction handleHashChange() {\n\t  var hash = location.hash;\n\t  if (hash === '#add-to-wallet-modal') {\n\t    modal_popup('#add-to-wallet-modal').show();\n\t  }\n\t}\n\t\n\tif (location.hash) {\n\t  handleHashChange();\n\t}\n\t\n\twindow.addEventListener('hashchange', handleHashChange, null);\n\t\n\tArray.prototype.forEach.call(document.querySelectorAll('.add-to-wallet-modal-link'), function (el) {\n\t  el.removeAttribute('href'); // required since setAttribute href with just a hash value appends to the existing href value\n\t  el.setAttribute('href', '#add-to-wallet-modal');\n\t  el.removeAttribute('target');\n\t});\n\t\n\t/*BEGIN: handle session timeout*/\n\tfunction SessionExpiredEvent() {\n\t  var addToCalendarDropdown = document.getElementById('addToCalendarDropdown');\n\t  addToCalendarDropdown.parentElement.removeChild(addToCalendarDropdown);\n\t  document.getElementById('print_page').style.display = 'none';\n\t}\n\t\n\tsession_counter().setTimeoutEvent(SessionExpiredEvent);\n\t/*END: handle session timeout*/\n\t\n\tdocument.getElementById('print_page').addEventListener('click', function () {\n\t  window.print();\n\t}, null);\n\n/***/ },\n\n/***/ 307:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar mod = module.exports = {};\n\t\n\tmod.addClass = function (selectorString, className) {\n\t  Array.prototype.forEach.call(document.querySelectorAll(selectorString), function (el) {\n\t    el.classList ? el.classList.add(className) : el.className += ' ' + className;\n\t  });\n\t};\n\t\n\tmod.removeClass = function (selectorString, className) {\n\t  Array.prototype.forEach.call(document.querySelectorAll(selectorString), function (el) {\n\t    el.classList ? el.classList.remove(className) : el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n\t  });\n\t};\n\t\n\tmod.toggleClass = function (selectorString, className) {\n\t  var elements = document.querySelectorAll(selectorString);\n\t  var _iteratorNormalCompletion = true;\n\t  var _didIteratorError = false;\n\t  var _iteratorError = undefined;\n\t\n\t  try {\n\t    for (var _iterator = elements[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t      var el = _step.value;\n\t\n\t      if (el.classList) {\n\t        el.classList.toggle(className);\n\t      } else {\n\t        var classes = el.className.split(' ');\n\t        var existingIndex = classes.indexOf(className);\n\t\n\t        if (existingIndex >= 0) classes.splice(existingIndex, 1);else classes.push(className);\n\t\n\t        el.className = classes.join(' ');\n\t      }\n\t    }\n\t  } catch (err) {\n\t    _didIteratorError = true;\n\t    _iteratorError = err;\n\t  } finally {\n\t    try {\n\t      if (!_iteratorNormalCompletion && _iterator.return) {\n\t        _iterator.return();\n\t      }\n\t    } finally {\n\t      if (_didIteratorError) {\n\t        throw _iteratorError;\n\t      }\n\t    }\n\t  }\n\t};\n\t\n\tmod.toggleHideOn = function (selectorString) {\n\t  mod.removeClass(selectorString, 'show');\n\t  // mod.addClass(selectorString, 'hide');\n\t  mod.addClass(selectorString, 'hidden');\n\t};\n\t\n\tmod.toggleShowOn = function (selectorString) {\n\t  mod.removeClass(selectorString, 'hidden');\n\t  // mod.removeClass(selectorString, 'hide');\n\t  mod.addClass(selectorString, 'show');\n\t};\n\t\n\tmod.hideElementsBySelectors = function (selectorString) {\n\t  Array.prototype.forEach.call(document.querySelectorAll(selectorString), function (el) {\n\t    el.style.display = 'none';\n\t  });\n\t};\n\t\n\tmod.clearHTML = function (selectorString) {\n\t  Array.prototype.forEach.call(document.querySelectorAll(selectorString), function (el) {\n\t    el.innerHTML = '';\n\t  });\n\t};\n\t\n\tmod.highlightCalendarDate = function (dateString) {\n\t  mod.removeClass('.date-bookable.is-active', 'is-active');\n\t  mod.addClass('.date-bookable.date-' + dateString, 'is-active');\n\t};\n\t\n\tmod.unhighlightCalendarDates = function () {\n\t  mod.removeClass('.date-bookable.is-active', 'is-active');\n\t};\n\t\n\tmod.highlightTimesCell = function (datetimeClassString) {\n\t  mod.removeClass('.appointment-list-item.is-active', 'is-active');\n\t  mod.addClass('.appointment-list-item.datetime-' + datetimeClassString, 'is-active');\n\t};\n\t\n\tmod.renderSystemError = function (selectorString) {\n\t  var el = document.querySelector(selectorString);\n\t  el.innerHTML = 'An error has occurred in the system. Please try again in a few minutes';\n\t};\n\t\n\tmod.focusMonthNav = function (month) {\n\t  var el = document.querySelector('.Calendar.month-' + month + ' a.Calendar-nav--next') || document.querySelector('.Calendar.month-' + month + ' a.Calendar-nav--prev');\n\t  el ? el.focus() : mod.focusFirstActiveMonthDate(month);\n\t};\n\t\n\tmod.focusFirstActiveMonthDate = function (month) {\n\t  var elems = document.querySelectorAll('[class^=\\'calendar-date date-bookable date-' + month + '\\'] a');\n\t  if (elems.length > 0) {\n\t    elems[0].focus();\n\t  }\n\t};\n\n/***/ },\n\n/***/ 321:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar sessionTime = 30 * 60 * 1000 - 1000;\n\tvar sessionEndingNotificationTime = 28 * 60 * 1000 - 1000;\n\t\n\tmodule.exports = function () {\n\t\treturn {\n\t\t\tsetTimeoutEvent: function setTimeoutEvent(SessionExpiredEvent) {\n\t\t\t\treturn setTimeout(SessionExpiredEvent, sessionTime);\n\t\t\t},\n\t\n\t\t\tsetNotificationBeforeExpiry: function setNotificationBeforeExpiry(SessionEndingEvent) {\n\t\t\t\tsetTimeout(SessionEndingEvent, sessionEndingNotificationTime);\n\t\t\t}\n\t\t};\n\t};\n\n/***/ },\n\n/***/ 322:\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar modal_focus = __webpack_require__(323);\n\tvar dom = __webpack_require__(307);\n\t\n\tvar KEYCODE_ESC = 27;\n\t\n\tvar ModalPopup = function () {\n\t  function ModalPopup(popupDOMid) {\n\t    _classCallCheck(this, ModalPopup);\n\t\n\t    this.popupDOMid = popupDOMid;\n\t  }\n\t\n\t  _createClass(ModalPopup, [{\n\t    key: 'show',\n\t    value: function show() {\n\t      window.location.hash = this.popupDOMid;\n\t      dom.addClass(this.popupDOMid, 'modal-bg--display');\n\t      dom.addClass('body', 'scroll-disabled');\n\t      this.setEventListeners();\n\t\n\t      document.getElementById('close_modal').focus();\n\t    }\n\t  }, {\n\t    key: 'setEventListeners',\n\t    value: function setEventListeners() {\n\t      var _this = this;\n\t\n\t      window.addEventListener('keydown', function (e) {\n\t        if (e.which == KEYCODE_ESC || e.keyCode == KEYCODE_ESC) {\n\t          _this.closeModal();\n\t        } else {\n\t          modal_focus.trapFocus(document.querySelector('.modal-bg'), e);\n\t        }\n\t      }, null);\n\t\n\t      document.querySelector(this.popupDOMid + ' .close').addEventListener('click', function () {\n\t        _this.closeModal();\n\t      });\n\t    }\n\t  }, {\n\t    key: 'closeModal',\n\t    value: function closeModal() {\n\t      dom.removeClass(this.popupDOMid, 'modal-bg--display');\n\t      dom.removeClass('body', 'scroll-disabled');\n\t      location.hash = '#close-modal';\n\t    }\n\t  }]);\n\t\n\t  return ModalPopup;\n\t}();\n\t\n\tmodule.exports = function (popupDOMid) {\n\t  return new ModalPopup(popupDOMid);\n\t};\n\n/***/ },\n\n/***/ 323:\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar mod = module.exports = {};\n\tvar KEYCODE_TAB = 9;\n\t\n\tmod.trapFocus = function (obj, evt) {\n\t  var focusableElements = [];\n\t  var elementIds = ['log_out', 'extend_session', 'close_modal'];\n\t  var _iteratorNormalCompletion = true;\n\t  var _didIteratorError = false;\n\t  var _iteratorError = undefined;\n\t\n\t  try {\n\t    for (var _iterator = elementIds[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n\t      var elId = _step.value;\n\t\n\t      var el = document.getElementById(elId);\n\t      if (el != null) {\n\t        focusableElements.push(el);\n\t      }\n\t    }\n\t  } catch (err) {\n\t    _didIteratorError = true;\n\t    _iteratorError = err;\n\t  } finally {\n\t    try {\n\t      if (!_iteratorNormalCompletion && _iterator.return) {\n\t        _iterator.return();\n\t      }\n\t    } finally {\n\t      if (_didIteratorError) {\n\t        throw _iteratorError;\n\t      }\n\t    }\n\t  }\n\t\n\t  if (evt.which == KEYCODE_TAB || evt.keyCode == KEYCODE_TAB) {\n\t    var modalElements = obj.querySelectorAll('*');\n\t    var numFocusableElements = focusableElements.length;\n\t    var focusedElement = document.activeElement;\n\t    var focusedElementIndex = focusableElements.indexOf(focusedElement);\n\t\n\t    if (evt.shiftKey) {\n\t      if (focusedElementIndex == 0) {\n\t        focusableElements[numFocusableElements - 1].focus();\n\t        evt.preventDefault();\n\t      }\n\t    } else {\n\t      if (focusedElementIndex == numFocusableElements - 1) {\n\t        focusableElements[0].focus();\n\t        evt.preventDefault();\n\t      }\n\t    }\n\t  }\n\t};\n\n/***/ }\n\n/******/ });\n\n\n/** WEBPACK FOOTER **\n ** confirmation.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 1370bad7fdc888fe9bcd\n **/","'use strict';\n\nconst session_counter = require('./session/session_counter');\nconst modal_popup = require('./helpers/modal_popup');\n\nvar calendarItems = document.getElementsByClassName('cal_option');\n\ndocument.addEventListener('touchstart', function() {\n  document.getElementById('calendarOptions').className = '';\n}, null)\n\nfor(var i=0; i< calendarItems.length; i++){\n\tcalendarItems[i].addEventListener('focus', function(){\n    document.getElementById('calendarOptions').className = 'show-menu';\n\t}, null);\n\n\tcalendarItems[i].addEventListener('blur', function(){\n    document.getElementById('calendarOptions').className = '';\n\t}, null);\n}\n\nfunction handleHashChange() {\n  let hash = location.hash;\n  if (hash === '#add-to-wallet-modal') {\n    modal_popup('#add-to-wallet-modal').show();\n  }\n}\n\nif (location.hash) {\n  handleHashChange();\n}\n\nwindow.addEventListener('hashchange', handleHashChange, null);\n\nArray.prototype.forEach.call(document.querySelectorAll('.add-to-wallet-modal-link'), (el) => {\n  el.removeAttribute('href'); // required since setAttribute href with just a hash value appends to the existing href value\n  el.setAttribute('href', '#add-to-wallet-modal');\n  el.removeAttribute('target');\n});\n\n/*BEGIN: handle session timeout*/\nfunction SessionExpiredEvent() {\n    var addToCalendarDropdown =  document.getElementById('addToCalendarDropdown');\n    addToCalendarDropdown.parentElement.removeChild(addToCalendarDropdown);\n    document.getElementById('print_page').style.display='none';\n}\n\nsession_counter().setTimeoutEvent(SessionExpiredEvent);\n/*END: handle session timeout*/\n\ndocument.getElementById('print_page').addEventListener('click', function(){\n\twindow.print();\n}, null);\n\n\n\n/** WEBPACK FOOTER **\n ** ./confirmation.js\n **/","'use strict';\n\nconst mod = module.exports = {};\n\nmod.addClass = (selectorString, className) => {\n  Array.prototype.forEach.call(document.querySelectorAll(selectorString), (el) => {\n    el.classList ? el.classList.add(className) : el.className += ' ' + className;\n  });\n};\n\nmod.removeClass = (selectorString, className) => {\n  Array.prototype.forEach.call(document.querySelectorAll(selectorString), (el) => {\n    el.classList ?\n        el.classList.remove(className) :\n        el.className = el.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n  });\n};\n\nmod.toggleClass = (selectorString, className) => {\n    let elements = document.querySelectorAll(selectorString);\n    for (let el of elements) {\n        if (el.classList) {\n          el.classList.toggle(className);\n        } else {\n          var classes = el.className.split(' ');\n          var existingIndex = classes.indexOf(className);\n\n          if (existingIndex >= 0)\n            classes.splice(existingIndex, 1);\n          else\n            classes.push(className);\n\n          el.className = classes.join(' ');\n        }\n    }\n}\n\nmod.toggleHideOn = (selectorString) => {\n  mod.removeClass(selectorString, 'show');\n  // mod.addClass(selectorString, 'hide');\n  mod.addClass(selectorString, 'hidden');\n}\n\nmod.toggleShowOn = (selectorString) => {\n  mod.removeClass(selectorString, 'hidden');\n  // mod.removeClass(selectorString, 'hide');\n  mod.addClass(selectorString, 'show');\n}\n\nmod.hideElementsBySelectors = (selectorString) => {\n  Array.prototype.forEach.call(document.querySelectorAll(selectorString), (el) => {\n    el.style.display = 'none';\n  });\n};\n\nmod.clearHTML = (selectorString) => {\n  Array.prototype.forEach.call(document.querySelectorAll(selectorString), (el) => {\n    el.innerHTML = '';\n  });\n};\n\nmod.highlightCalendarDate = (dateString) => {\n  mod.removeClass('.date-bookable.is-active', 'is-active');\n  mod.addClass(`.date-bookable.date-${dateString}`, 'is-active');\n};\n\nmod.unhighlightCalendarDates = () => {\n  mod.removeClass('.date-bookable.is-active', 'is-active');\n};\n\nmod.highlightTimesCell = (datetimeClassString) => {\n  mod.removeClass('.appointment-list-item.is-active', 'is-active');\n  mod.addClass(`.appointment-list-item.datetime-${datetimeClassString}`, 'is-active');\n};\n\nmod.renderSystemError = (selectorString) => {\n  let el = document.querySelector(selectorString);\n  el.innerHTML = 'An error has occurred in the system. Please try again in a few minutes';\n};\n\nmod.focusMonthNav = (month) => {\n  let el = document.querySelector(`.Calendar.month-${month} a.Calendar-nav--next`) ||\n  document.querySelector(`.Calendar.month-${month} a.Calendar-nav--prev`);\n  el ? el.focus() : mod.focusFirstActiveMonthDate(month);\n};\n\nmod.focusFirstActiveMonthDate = (month) => {\n  let elems = document.querySelectorAll(`[class^='calendar-date date-bookable date-${month}'] a`);\n  if (elems.length > 0) {\n    elems[0].focus();\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./helpers/domHelpers.js\n **/","'use strict';\n\nconst sessionTime = 30*60*1000-1000;\nconst sessionEndingNotificationTime = 28*60*1000-1000;\n\nmodule.exports = () => {\n\treturn {\n\t\tsetTimeoutEvent: function (SessionExpiredEvent) {\n\t\t\treturn setTimeout(SessionExpiredEvent, sessionTime);\n\t\t},\n\n\t\tsetNotificationBeforeExpiry: function(SessionEndingEvent) {\n\t\t\tsetTimeout(SessionEndingEvent, sessionEndingNotificationTime);\n\t\t}\n\t};\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./session/session_counter.js\n **/","'use strict';\n\nconst modal_focus = require('../calendar/modal_focus');\nconst dom = require('./domHelpers');\n\nconst KEYCODE_ESC = 27;\n\nclass ModalPopup {\n  constructor(popupDOMid) {\n    this.popupDOMid = popupDOMid;\n  }\n\n  show() {\n  \twindow.location.hash = this.popupDOMid;\n  \tdom.addClass(this.popupDOMid, 'modal-bg--display');\n  \tdom.addClass('body', 'scroll-disabled');\n  \tthis.setEventListeners();\n\n    document.getElementById('close_modal').focus();\n  }\n\n  setEventListeners(){\n  \twindow.addEventListener('keydown', (e) => {\n      if ( e.which == KEYCODE_ESC || e.keyCode == KEYCODE_ESC ) {\n        this.closeModal();\n      } else {\n        modal_focus.trapFocus(document.querySelector('.modal-bg'), e);\n      }\n  \t}, null);\n\n    document.querySelector(this.popupDOMid + ' .close').addEventListener('click', () => {\n      this.closeModal();\n    });\n  }\n\n  closeModal() {\n\t  dom.removeClass(this.popupDOMid, 'modal-bg--display');\n\t  dom.removeClass('body', 'scroll-disabled');\n    location.hash = '#close-modal';\n  }\n}\n\nmodule.exports = (popupDOMid) => {\n  return new ModalPopup(popupDOMid);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./helpers/modal_popup.js\n **/","'use strict';\n\nconst mod = module.exports = {};\nconst KEYCODE_TAB = 9;\n\nmod.trapFocus = (obj, evt) => {\n  let focusableElements = [];\n  let elementIds = ['log_out', 'extend_session', 'close_modal'];\n  for (let elId of elementIds) {\n    let el = document.getElementById(elId);\n    if (el != null) {\n      focusableElements.push(el);\n    }\n  }\n\n  if ( evt.which == KEYCODE_TAB || evt.keyCode == KEYCODE_TAB ) {\n    let modalElements = obj.querySelectorAll('*');\n    let numFocusableElements = focusableElements.length;\n    let focusedElement = document.activeElement;\n    let focusedElementIndex = focusableElements.indexOf(focusedElement);\n\n    if (evt.shiftKey) {\n      if( focusedElementIndex == 0 ){\n        focusableElements[numFocusableElements-1].focus();\n        evt.preventDefault();\n      }\n    } else {\n      if( focusedElementIndex == numFocusableElements-1 ){\n        focusableElements[0].focus();\n        evt.preventDefault();\n      }\n    }\n  }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./calendar/modal_focus.js\n **/"],"sourceRoot":""}